{
  "openapi": "3.0.0",
  "paths": {
    "/": {
      "get": {
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "App"
        ]
      }
    },
    "/api/auth/login": {
      "post": {
        "operationId": "AuthController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Invalid email or password."
          }
        },
        "summary": "Sign in with email and password",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/auth/register": {
      "post": {
        "operationId": "AuthController_register",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterCompleteRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Registration completed successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid registration data."
          }
        },
        "summary": "Register new student account",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/auth/logout": {
      "post": {
        "operationId": "AuthController_logout",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Logout successful.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid bearer token."
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Logout current session (global)",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/auth/forgot-password": {
      "post": {
        "operationId": "AuthController_forgotPassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reset email sent.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForgotPasswordResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid email."
          }
        },
        "summary": "Send a password reset email",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/auth/update-password": {
      "post": {
        "operationId": "AuthController_updatePassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePasswordRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password updated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdatePasswordResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid bearer token."
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Update password using current session",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/auth/check-email": {
      "get": {
        "operationId": "AuthController_checkEmail",
        "parameters": [
          {
            "name": "email",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Email check completed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "exists": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid email."
          }
        },
        "summary": "Check if email already exists",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/auth/reverse-geocode": {
      "get": {
        "operationId": "AuthController_reverseGeocode",
        "parameters": [
          {
            "name": "lat",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lon",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Location retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "location": {
                      "type": "string"
                    },
                    "state": {
                      "type": "string"
                    },
                    "country": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid coordinates."
          }
        },
        "summary": "Reverse geocode coordinates to location",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/profile/me": {
      "get": {
        "operationId": "ProfileController_getMe",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Profile retrieved successfully."
          },
          "401": {
            "description": "Missing or invalid bearer token."
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Get current user profile",
        "tags": [
          "Profile"
        ]
      }
    },
    "/api/profile/avatar": {
      "post": {
        "operationId": "ProfileController_uploadAvatar",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Avatar uploaded successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadAvatarResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid bearer token."
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Upload profile picture",
        "tags": [
          "Profile"
        ]
      }
    },
    "/api/profile/update": {
      "put": {
        "operationId": "ProfileController_updateProfile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfileRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateProfileResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid bearer token."
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Update profile (academic, interests, skills only)",
        "tags": [
          "Profile"
        ]
      }
    },
    "/api/programs": {
      "get": {
        "operationId": "ProgramsController_getPrograms",
        "parameters": [
          {
            "name": "all",
            "required": false,
            "in": "query",
            "description": "Include all statuses (for admin)",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of programs retrieved successfully"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all programs",
        "tags": [
          "Programs"
        ]
      },
      "post": {
        "operationId": "ProgramsController_createProgram",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProgramRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Program created successfully"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Create a new program (admin only)",
        "tags": [
          "Programs"
        ]
      }
    },
    "/api/programs/{id}": {
      "get": {
        "operationId": "ProgramsController_getProgramById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Program ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Program retrieved successfully"
          },
          "404": {
            "description": "Program not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get program by ID",
        "tags": [
          "Programs"
        ]
      },
      "put": {
        "operationId": "ProgramsController_updateProgram",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Program ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProgramRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Program updated successfully"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Program not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Update an existing program (admin only)",
        "tags": [
          "Programs"
        ]
      },
      "delete": {
        "operationId": "ProgramsController_deleteProgram",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Program ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Program deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Program not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Delete a program (admin only - permanent delete)",
        "tags": [
          "Programs"
        ]
      }
    },
    "/api/programs/level/{level}": {
      "get": {
        "operationId": "ProgramsController_getProgramsByLevel",
        "parameters": [
          {
            "name": "level",
            "required": true,
            "in": "path",
            "description": "Program level",
            "schema": {
              "enum": [
                "foundation",
                "diploma",
                "degree"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of programs retrieved successfully"
          },
          "400": {
            "description": "Invalid level"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get programs by level",
        "tags": [
          "Programs"
        ]
      }
    },
    "/api/programs/university/{universityId}": {
      "get": {
        "operationId": "ProgramsController_getProgramsByUniversity",
        "parameters": [
          {
            "name": "universityId",
            "required": true,
            "in": "path",
            "description": "University ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of programs retrieved successfully"
          },
          "400": {
            "description": "Invalid university ID"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get programs by university ID",
        "tags": [
          "Programs"
        ]
      }
    },
    "/api/universities": {
      "get": {
        "operationId": "UniversitiesController_getUniversities",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of universities retrieved successfully"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all universities",
        "tags": [
          "Universities"
        ]
      },
      "post": {
        "operationId": "UniversitiesController_createUniversity",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUniversityRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "University created successfully"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Create a new university (admin only)",
        "tags": [
          "Universities"
        ]
      }
    },
    "/api/universities/{id}": {
      "get": {
        "operationId": "UniversitiesController_getUniversityById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "University ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "University retrieved successfully"
          },
          "404": {
            "description": "University not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get university by ID",
        "tags": [
          "Universities"
        ]
      },
      "put": {
        "operationId": "UniversitiesController_updateUniversity",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "University ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUniversityRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "University updated successfully"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "University not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Update an existing university (admin only)",
        "tags": [
          "Universities"
        ]
      },
      "delete": {
        "operationId": "UniversitiesController_deleteUniversity",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "University ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "University and linked programs deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "University not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Delete a university and all linked programs (admin only)",
        "tags": [
          "Universities"
        ]
      }
    },
    "/api/universities/upload-logo": {
      "post": {
        "operationId": "UniversitiesController_uploadLogo",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Logo uploaded successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Upload university logo",
        "tags": [
          "Universities"
        ]
      }
    },
    "/api/universities/upload-image": {
      "post": {
        "operationId": "UniversitiesController_uploadUniversityImage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Image uploaded successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Upload university image",
        "tags": [
          "Universities"
        ]
      }
    },
    "/api/scholarships": {
      "get": {
        "operationId": "ScholarshipsController_getScholarships",
        "parameters": [
          {
            "name": "studyLevel",
            "required": false,
            "in": "query",
            "description": "Filter by study level: foundation, diploma, degree",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "Filter by scholarship type",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "location",
            "required": false,
            "in": "query",
            "description": "Filter by location: local, overseas, both",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "fieldId",
            "required": false,
            "in": "query",
            "description": "Filter by field ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "all",
            "required": false,
            "in": "query",
            "description": "Include all statuses (for admin)",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of scholarships retrieved successfully"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all scholarships",
        "tags": [
          "Scholarships"
        ]
      },
      "post": {
        "operationId": "ScholarshipsController_createScholarship",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateScholarshipRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Scholarship created successfully"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Create a new scholarship (admin only)",
        "tags": [
          "Scholarships"
        ]
      }
    },
    "/api/scholarships/{id}": {
      "get": {
        "operationId": "ScholarshipsController_getScholarshipById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Scholarship ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Scholarship retrieved successfully"
          },
          "404": {
            "description": "Scholarship not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get scholarship by ID",
        "tags": [
          "Scholarships"
        ]
      },
      "put": {
        "operationId": "ScholarshipsController_updateScholarship",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Scholarship ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateScholarshipRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Scholarship updated successfully"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Scholarship not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Update an existing scholarship (admin only)",
        "tags": [
          "Scholarships"
        ]
      },
      "delete": {
        "operationId": "ScholarshipsController_deleteScholarship",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Scholarship ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Scholarship deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Scholarship not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Delete a scholarship (admin only - permanent delete)",
        "tags": [
          "Scholarships"
        ]
      }
    },
    "/api/scholarships/level/{level}": {
      "get": {
        "operationId": "ScholarshipsController_getScholarshipsByLevel",
        "parameters": [
          {
            "name": "level",
            "required": true,
            "in": "path",
            "description": "Study level: foundation, diploma, or degree",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of scholarships retrieved successfully"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get scholarships by study level",
        "tags": [
          "Scholarships"
        ]
      }
    },
    "/api/saved-items": {
      "post": {
        "operationId": "SavedItemsController_saveItem",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Item saved successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Save an item (program or scholarship)",
        "tags": [
          "Saved Items"
        ]
      },
      "get": {
        "operationId": "SavedItemsController_getSavedItems",
        "parameters": [
          {
            "name": "itemType",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "program",
                "scholarship"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Saved items retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Get all saved items for the current user",
        "tags": [
          "Saved Items"
        ]
      }
    },
    "/api/saved-items/{itemType}/{itemId}": {
      "delete": {
        "operationId": "SavedItemsController_unsaveItem",
        "parameters": [
          {
            "name": "itemType",
            "required": true,
            "in": "path",
            "schema": {
              "enum": [
                "program",
                "scholarship"
              ],
              "type": "string"
            }
          },
          {
            "name": "itemId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Item unsaved successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Unsave an item (program or scholarship)",
        "tags": [
          "Saved Items"
        ]
      }
    },
    "/api/saved-items/check/{itemType}/{itemId}": {
      "get": {
        "operationId": "SavedItemsController_checkSaved",
        "parameters": [
          {
            "name": "itemType",
            "required": true,
            "in": "path",
            "schema": {
              "enum": [
                "program",
                "scholarship"
              ],
              "type": "string"
            }
          },
          {
            "name": "itemId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Saved state retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Check if an item is saved",
        "tags": [
          "Saved Items"
        ]
      }
    },
    "/api/saved-items/programs": {
      "get": {
        "operationId": "SavedItemsController_getSavedPrograms",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Saved programs retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Get saved programs with full program data",
        "tags": [
          "Saved Items"
        ]
      }
    },
    "/api/saved-items/scholarships": {
      "get": {
        "operationId": "SavedItemsController_getSavedScholarships",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Saved scholarships retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Get saved scholarships with full scholarship data",
        "tags": [
          "Saved Items"
        ]
      }
    },
    "/api/help/faq": {
      "get": {
        "operationId": "HelpController_getFAQs",
        "parameters": [
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of FAQs to return (default: 8)",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search query to filter FAQs by title or content",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "FAQs retrieved successfully"
          },
          "400": {
            "description": "Bad request"
          }
        },
        "summary": "Get FAQs from help_support table",
        "tags": [
          "Help & Support"
        ]
      }
    },
    "/api/help/ai": {
      "post": {
        "operationId": "HelpController_handleAIChat",
        "parameters": [],
        "responses": {
          "200": {
            "description": "AI response generated successfully"
          },
          "400": {
            "description": "Bad request (invalid message, rate limit, etc.)"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Send a message to the AI assistant",
        "tags": [
          "Help & Support"
        ]
      }
    },
    "/api/help/content": {
      "get": {
        "operationId": "HelpController_getAllHelpSupport",
        "parameters": [
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by category: FAQ, System Message, Policy",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of help support items retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Get all help support content (admin only)",
        "tags": [
          "Help & Support"
        ]
      },
      "post": {
        "operationId": "HelpController_createHelpSupport",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Help support item created successfully"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Create a new help support item (admin only)",
        "tags": [
          "Help & Support"
        ]
      }
    },
    "/api/help/content/{id}": {
      "put": {
        "operationId": "HelpController_updateHelpSupport",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Help support item ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Help support item updated successfully"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Help support item not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Update an existing help support item (admin only)",
        "tags": [
          "Help & Support"
        ]
      },
      "delete": {
        "operationId": "HelpController_deleteHelpSupport",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Help support item ID",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Help support item deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Help support item not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Delete a help support item (admin only)",
        "tags": [
          "Help & Support"
        ]
      }
    },
    "/api/admin/dashboard/metrics": {
      "get": {
        "operationId": "AdminController_getDashboardMetrics",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Dashboard metrics retrieved successfully"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Get dashboard metrics (admin only)",
        "tags": [
          "Admin"
        ]
      }
    },
    "/api/admin/alerts": {
      "get": {
        "operationId": "AdminController_getSystemAlerts",
        "parameters": [
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "System alerts retrieved successfully"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Get system alerts (admin only)",
        "tags": [
          "Admin"
        ]
      }
    },
    "/api/admin/alerts/{id}/resolve": {
      "patch": {
        "operationId": "AdminController_resolveAlert",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Alert resolved successfully"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Resolve a system alert (admin only)",
        "tags": [
          "Admin"
        ]
      }
    },
    "/api/admin/users/recent": {
      "get": {
        "operationId": "AdminController_getRecentUsers",
        "parameters": [
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recent users retrieved successfully"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Get recent users (admin only)",
        "tags": [
          "Admin"
        ]
      }
    },
    "/api/admin/programs/recent": {
      "get": {
        "operationId": "AdminController_getRecentPrograms",
        "parameters": [
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recent programs retrieved successfully"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Get recent programs (admin only)",
        "tags": [
          "Admin"
        ]
      }
    },
    "/api/admin/users": {
      "get": {
        "operationId": "AdminController_getAllUsers",
        "parameters": [
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "offset",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Users retrieved successfully"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Get all users with pagination (admin only)",
        "tags": [
          "Admin"
        ]
      }
    },
    "/api/admin/users/{id}": {
      "get": {
        "operationId": "AdminController_getUserById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User retrieved successfully"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Get user by ID (admin only)",
        "tags": [
          "Admin"
        ]
      },
      "put": {
        "operationId": "AdminController_updateUser",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User updated successfully"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Update user (admin only)",
        "tags": [
          "Admin"
        ]
      },
      "delete": {
        "operationId": "AdminController_deleteUser",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User deleted successfully"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Delete user (admin only)",
        "tags": [
          "Admin"
        ]
      }
    },
    "/api/fields": {
      "get": {
        "operationId": "FieldsController_getFields",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of fields retrieved successfully"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all fields of interest",
        "tags": [
          "Fields"
        ]
      }
    },
    "/api/compare/ai-explain": {
      "post": {
        "operationId": "CompareController_generateAIExplanation",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompareRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "AI explanation generated successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "supabase-auth": []
          }
        ],
        "summary": "Generate AI explanation comparing two programs",
        "tags": [
          "Compare"
        ]
      }
    },
    "/api/ai/recommend/fields": {
      "post": {
        "description": "Returns ranked field categories based on student profile. This is the first step - user must select a field before getting programs.",
        "operationId": "AIController_getFieldRecommendations",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Field recommendations generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FieldRecommendationResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get field-level recommendations (STEP 1)",
        "tags": [
          "AI Recommendations"
        ]
      }
    },
    "/api/ai/recommend/programs-by-field": {
      "post": {
        "description": "Returns top 3 most suitable programs for a selected field using OpenAI analysis. Field must be selected from field recommendations first.",
        "operationId": "AIController_getProgramsByField",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProgramsByFieldRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Program recommendations generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinalRecommendationResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get top 3 programs for selected field (STEP 2)",
        "tags": [
          "AI Recommendations"
        ]
      }
    },
    "/api/ai/recommendations": {
      "post": {
        "description": "Legacy endpoint - use /recommend/fields and /recommend/programs-by-field instead",
        "operationId": "AIController_getRecommendations",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Recommendations generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinalRecommendationResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "[DEPRECATED] Get AI-based program recommendations",
        "tags": [
          "AI Recommendations"
        ]
      }
    },
    "/api/ai/recommendations/history": {
      "get": {
        "description": "Returns the history of AI-generated field and program recommendations for the authenticated user",
        "operationId": "AIController_getRecommendationHistory",
        "parameters": [
          {
            "name": "type",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recommendation history retrieved successfully"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get AI recommendation history",
        "tags": [
          "AI Recommendations"
        ]
      }
    }
  },
  "info": {
    "title": "My API",
    "description": "The backend API description",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "securitySchemes": {
      "supabase-auth": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http",
        "description": "Enter your Supabase access token"
      }
    },
    "schemas": {
      "LoginRequestDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email address associated with the BackToSchool account.",
            "example": "student@demo.com"
          },
          "password": {
            "type": "string",
            "description": "Account password. Minimum 8 characters.",
            "example": "demo1234",
            "minLength": 8
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "LoginUserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the authenticated user.",
            "example": "a9f0c2d9-3c8b-4f0d-9ef2-1234567890ab"
          },
          "email": {
            "type": "string",
            "description": "Email address of the authenticated user.",
            "example": "student@demo.com"
          },
          "role": {
            "type": "string",
            "description": "Role of the authenticated user.",
            "example": "student"
          },
          "fullName": {
            "type": "string",
            "description": "Full name of the user.",
            "example": "Ahmad Rahman"
          },
          "phoneNumber": {
            "type": "string",
            "description": "Phone number of the user.",
            "example": "+60 12-345-6789"
          }
        },
        "required": [
          "id",
          "email",
          "role"
        ]
      },
      "StudentProfileDto": {
        "type": "object",
        "properties": {
          "phoneNumber": {
            "type": "string",
            "description": "Phone number in E.164 format",
            "example": "+60123456789"
          },
          "countryCode": {
            "type": "string",
            "description": "Country code extracted from phone number",
            "example": "+60"
          },
          "avatarUrl": {
            "type": "string",
            "description": "Avatar URL from Supabase Storage",
            "example": "https://..."
          },
          "studyLevel": {
            "type": "string",
            "example": "SPM"
          },
          "extracurricular": {
            "type": "boolean",
            "example": true
          },
          "bm": {
            "type": "string",
            "example": "A"
          },
          "english": {
            "type": "string",
            "example": "A"
          },
          "history": {
            "type": "string",
            "example": "B"
          },
          "mathematics": {
            "type": "string",
            "example": "A"
          },
          "islamicEducationMoralEducation": {
            "type": "string",
            "example": "A"
          },
          "physics": {
            "type": "string",
            "example": "A"
          },
          "chemistry": {
            "type": "string",
            "example": "A"
          },
          "biology": {
            "type": "string",
            "example": "B"
          },
          "additionalMathematics": {
            "type": "string",
            "example": "A"
          },
          "geography": {
            "type": "string",
            "example": "0"
          },
          "economics": {
            "type": "string",
            "example": "0"
          },
          "accounting": {
            "type": "string",
            "example": "0"
          },
          "chinese": {
            "type": "string",
            "example": "0"
          },
          "tamil": {
            "type": "string",
            "example": "0"
          },
          "ict": {
            "type": "string",
            "example": "0"
          },
          "mathsInterest": {
            "type": "number",
            "example": 5
          },
          "scienceInterest": {
            "type": "number",
            "example": 5
          },
          "computerInterest": {
            "type": "number",
            "example": 5
          },
          "writingInterest": {
            "type": "number",
            "example": 3
          },
          "artInterest": {
            "type": "number",
            "example": 2
          },
          "businessInterest": {
            "type": "number",
            "example": 3
          },
          "socialInterest": {
            "type": "number",
            "example": 2
          },
          "logicalThinking": {
            "type": "number",
            "example": 5
          },
          "problemSolving": {
            "type": "number",
            "example": 5
          },
          "creativity": {
            "type": "number",
            "example": 4
          },
          "communication": {
            "type": "number",
            "example": 4
          },
          "teamwork": {
            "type": "number",
            "example": 5
          },
          "leadership": {
            "type": "number",
            "example": 3
          },
          "attentionToDetail": {
            "type": "number",
            "example": 5
          }
        }
      },
      "PreferencesDto": {
        "type": "object",
        "properties": {
          "budgetRange": {
            "type": "string",
            "example": "RM 50,000 - RM 100,000"
          },
          "preferredLocation": {
            "type": "string",
            "example": "Kuala Lumpur"
          },
          "preferredCountry": {
            "type": "string",
            "example": "Malaysia"
          },
          "studyMode": {
            "type": "string",
            "example": "Full-time"
          }
        }
      },
      "LoginResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Friendly message describing the login result.",
            "example": "Login successful."
          },
          "user": {
            "$ref": "#/components/schemas/LoginUserDto"
          },
          "profile": {
            "$ref": "#/components/schemas/StudentProfileDto"
          },
          "preferences": {
            "$ref": "#/components/schemas/PreferencesDto"
          },
          "accessToken": {
            "type": "string",
            "description": "Supabase access token for client session.",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "refreshToken": {
            "type": "string",
            "description": "Supabase refresh token for client session.",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "expiresIn": {
            "type": "number",
            "description": "Token expiry in seconds.",
            "example": 3600
          }
        },
        "required": [
          "message",
          "user",
          "accessToken",
          "refreshToken",
          "expiresIn"
        ]
      },
      "RegisterCompleteRequestDto": {
        "type": "object",
        "properties": {
          "fullName": {
            "type": "string",
            "description": "Full name of the user.",
            "example": "Ahmad Rahman"
          },
          "email": {
            "type": "string",
            "description": "User email address. Must be unique and valid format.",
            "example": "ahmad.rahman@email.com"
          },
          "phoneNumber": {
            "type": "string",
            "description": "Contact number in E.164 format (e.g., +60123456789). Must start with + followed by 8-15 digits.",
            "example": "+60123456789"
          },
          "currentLocation": {
            "type": "string",
            "description": "Current location string (e.g., city, lat/long). Optional.",
            "example": "Kuala Lumpur, MY"
          },
          "password": {
            "type": "string",
            "description": "Account password. Minimum 8 characters, must contain uppercase, number, and special character. Cannot contain email.",
            "example": "StrongPass123!",
            "minLength": 8
          },
          "confirmPassword": {
            "type": "string",
            "description": "Confirm password. Must match password.",
            "example": "StrongPass123!"
          },
          "studyLevel": {
            "type": "string",
            "description": "Study level. Must be SPM or STPM.",
            "enum": [
              "SPM",
              "STPM"
            ],
            "example": "SPM"
          },
          "extracurricular": {
            "type": "boolean",
            "description": "Extracurricular participation.",
            "example": true
          },
          "bm": {
            "type": "string",
            "description": "Bahasa Malaysia grade. Must be A, B, C, D, E, G, or 0 (not taken).",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "A"
          },
          "english": {
            "type": "string",
            "description": "English grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "A"
          },
          "history": {
            "type": "string",
            "description": "History grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "B"
          },
          "mathematics": {
            "type": "string",
            "description": "Mathematics grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "A"
          },
          "islamicEducationMoralEducation": {
            "type": "string",
            "description": "Islamic Education / Moral Education grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "A"
          },
          "physics": {
            "type": "string",
            "description": "Physics grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "A"
          },
          "chemistry": {
            "type": "string",
            "description": "Chemistry grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "A"
          },
          "biology": {
            "type": "string",
            "description": "Biology grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "B"
          },
          "additionalMathematics": {
            "type": "string",
            "description": "Additional Mathematics grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "A"
          },
          "geography": {
            "type": "string",
            "description": "Geography grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "0"
          },
          "economics": {
            "type": "string",
            "description": "Economics grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "0"
          },
          "accounting": {
            "type": "string",
            "description": "Accounting grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "0"
          },
          "chinese": {
            "type": "string",
            "description": "Chinese grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "0"
          },
          "tamil": {
            "type": "string",
            "description": "Tamil grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "0"
          },
          "ict": {
            "type": "string",
            "description": "ICT grade.",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ],
            "example": "0"
          },
          "mathsInterest": {
            "type": "number",
            "description": "Interest in mathematics (1-5). Must be integer between 1 and 5.",
            "example": 5,
            "minimum": 1,
            "maximum": 5
          },
          "scienceInterest": {
            "type": "number",
            "description": "Interest in science (1-5). Must be integer between 1 and 5.",
            "example": 5,
            "minimum": 1,
            "maximum": 5
          },
          "computerInterest": {
            "type": "number",
            "description": "Interest in computers/IT (1-5). Must be integer between 1 and 5.",
            "example": 5,
            "minimum": 1,
            "maximum": 5
          },
          "writingInterest": {
            "type": "number",
            "description": "Interest in writing (1-5). Must be integer between 1 and 5.",
            "example": 3,
            "minimum": 1,
            "maximum": 5
          },
          "artInterest": {
            "type": "number",
            "description": "Interest in arts (1-5). Must be integer between 1 and 5.",
            "example": 2,
            "minimum": 1,
            "maximum": 5
          },
          "businessInterest": {
            "type": "number",
            "description": "Interest in business (1-5). Must be integer between 1 and 5.",
            "example": 3,
            "minimum": 1,
            "maximum": 5
          },
          "socialInterest": {
            "type": "number",
            "description": "Interest in social sciences (1-5). Must be integer between 1 and 5.",
            "example": 2,
            "minimum": 1,
            "maximum": 5
          },
          "logicalThinking": {
            "type": "number",
            "description": "Logical thinking skill (1-5). Must be integer between 1 and 5.",
            "example": 5,
            "minimum": 1,
            "maximum": 5
          },
          "problemSolving": {
            "type": "number",
            "description": "Problem-solving skill (1-5). Must be integer between 1 and 5.",
            "example": 5,
            "minimum": 1,
            "maximum": 5
          },
          "creativity": {
            "type": "number",
            "description": "Creativity skill (1-5). Must be integer between 1 and 5.",
            "example": 4,
            "minimum": 1,
            "maximum": 5
          },
          "communication": {
            "type": "number",
            "description": "Communication skill (1-5). Must be integer between 1 and 5.",
            "example": 4,
            "minimum": 1,
            "maximum": 5
          },
          "teamwork": {
            "type": "number",
            "description": "Teamwork skill (1-5). Must be integer between 1 and 5.",
            "example": 5,
            "minimum": 1,
            "maximum": 5
          },
          "leadership": {
            "type": "number",
            "description": "Leadership skill (1-5). Must be integer between 1 and 5.",
            "example": 3,
            "minimum": 1,
            "maximum": 5
          },
          "attentionToDetail": {
            "type": "number",
            "description": "Attention to detail skill (1-5). Must be integer between 1 and 5.",
            "example": 5,
            "minimum": 1,
            "maximum": 5
          },
          "budgetRange": {
            "type": "string",
            "description": "Budget range preference.",
            "example": "RM 50,000 - RM 100,000"
          },
          "preferredLocation": {
            "type": "string",
            "description": "Preferred study location.",
            "example": "Kuala Lumpur"
          },
          "preferredCountry": {
            "type": "string",
            "description": "Preferred country (optional).",
            "example": "Malaysia"
          },
          "studyMode": {
            "type": "string",
            "description": "Study mode preference (optional).",
            "example": "Full-time"
          }
        },
        "required": [
          "fullName",
          "email",
          "phoneNumber",
          "password",
          "confirmPassword",
          "studyLevel",
          "extracurricular",
          "bm",
          "english",
          "history",
          "mathematics",
          "islamicEducationMoralEducation",
          "physics",
          "chemistry",
          "biology",
          "additionalMathematics",
          "geography",
          "economics",
          "accounting",
          "chinese",
          "tamil",
          "ict",
          "mathsInterest",
          "scienceInterest",
          "computerInterest",
          "writingInterest",
          "artInterest",
          "businessInterest",
          "socialInterest",
          "logicalThinking",
          "problemSolving",
          "creativity",
          "communication",
          "teamwork",
          "leadership",
          "attentionToDetail",
          "budgetRange",
          "preferredLocation"
        ]
      },
      "RegisterResponseDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "Identifier of the newly created user.",
            "example": "a9f0c2d9-3c8b-4f0d-9ef2-1234567890ab"
          },
          "email": {
            "type": "string",
            "description": "Registered email address.",
            "example": "ahmad.rahman@email.com"
          },
          "message": {
            "type": "string",
            "description": "Status message returned after registration.",
            "example": "Account created successfully. Please verify your email."
          }
        },
        "required": [
          "userId",
          "email",
          "message"
        ]
      },
      "LogoutResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Status message returned after logout.",
            "example": "Logout successful."
          }
        },
        "required": [
          "message"
        ]
      },
      "ForgotPasswordRequestDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email address to receive the reset link."
          },
          "redirectTo": {
            "type": "string",
            "description": "Redirect URL after clicking the email reset link.",
            "example": "http://localhost:3000/"
          }
        },
        "required": [
          "email"
        ]
      },
      "ForgotPasswordResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Status message.",
            "example": "Password reset email sent."
          }
        },
        "required": [
          "message"
        ]
      },
      "UpdatePasswordRequestDto": {
        "type": "object",
        "properties": {
          "password": {
            "type": "string",
            "description": "New password to set.",
            "minLength": 8
          }
        },
        "required": [
          "password"
        ]
      },
      "UpdatePasswordResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Status message.",
            "example": "Password updated successfully."
          }
        },
        "required": [
          "message"
        ]
      },
      "UploadAvatarResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Avatar uploaded successfully."
          },
          "avatarUrl": {
            "type": "string",
            "example": "https://..."
          }
        },
        "required": [
          "message",
          "avatarUrl"
        ]
      },
      "UpdateProfileRequestDto": {
        "type": "object",
        "properties": {
          "studyLevel": {
            "type": "string",
            "enum": [
              "SPM",
              "STPM"
            ]
          },
          "extracurricular": {
            "type": "boolean"
          },
          "bm": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "english": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "history": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "mathematics": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "islamicEducationMoralEducation": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "physics": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "chemistry": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "biology": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "additionalMathematics": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "geography": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "economics": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "accounting": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "chinese": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "tamil": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "ict": {
            "type": "string",
            "enum": [
              "A",
              "B",
              "C",
              "D",
              "E",
              "G",
              "0"
            ]
          },
          "mathsInterest": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "scienceInterest": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "computerInterest": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "writingInterest": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "artInterest": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "businessInterest": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "socialInterest": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "logicalThinking": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "problemSolving": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "creativity": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "communication": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "teamwork": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "leadership": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "attentionToDetail": {
            "type": "number",
            "minimum": 1,
            "maximum": 5
          },
          "budgetRange": {
            "type": "string"
          },
          "preferredLocation": {
            "type": "string"
          },
          "preferredCountry": {
            "type": "string"
          },
          "studyMode": {
            "type": "string"
          }
        }
      },
      "UpdateProfileResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Profile updated successfully."
          }
        },
        "required": [
          "message"
        ]
      },
      "CreateProgramRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Program name"
          },
          "university_id": {
            "type": "number",
            "description": "University ID"
          },
          "level": {
            "type": "string",
            "description": "Program level",
            "enum": [
              "Foundation",
              "Diploma",
              "Bachelor"
            ]
          },
          "description": {
            "type": "object",
            "description": "Program description"
          },
          "duration_months": {
            "type": "number",
            "description": "Duration in months"
          },
          "tuition_fee_amount": {
            "type": "number",
            "description": "Tuition fee amount"
          },
          "tuition_fee_period": {
            "type": "string",
            "description": "Tuition fee period",
            "enum": [
              "semester",
              "year",
              "total"
            ]
          },
          "currency": {
            "type": "object",
            "description": "Currency code (e.g., MYR)",
            "default": "MYR"
          },
          "start_month": {
            "type": "object",
            "description": "Start month"
          },
          "deadline": {
            "type": "object",
            "description": "Application deadline"
          },
          "field_id": {
            "type": "number",
            "description": "Field of interest ID"
          },
          "entry_requirements": {
            "type": "object",
            "description": "Entry requirements (JSONB)"
          },
          "curriculum": {
            "type": "object",
            "description": "Curriculum (JSONB)"
          },
          "career_outcomes": {
            "type": "object",
            "description": "Career outcomes (JSONB)"
          },
          "facilities": {
            "type": "object",
            "description": "Facilities (JSONB)"
          },
          "tags": {
            "type": "object",
            "description": "Tags (JSONB array)"
          },
          "status": {
            "type": "string",
            "description": "Program status",
            "enum": [
              "active",
              "draft",
              "archived"
            ]
          },
          "rating": {
            "type": "number",
            "description": "Rating"
          },
          "review_count": {
            "type": "number",
            "description": "Review count"
          },
          "employment_rate": {
            "type": "number",
            "description": "Employment rate"
          },
          "average_salary": {
            "type": "number",
            "description": "Average salary"
          },
          "satisfaction_rate": {
            "type": "number",
            "description": "Satisfaction rate"
          },
          "duration": {
            "type": "object",
            "description": "Duration (text format, e.g., \"3 years\")"
          },
          "tuition_fee": {
            "type": "number",
            "description": "Tuition fee (legacy field)"
          },
          "entry_requirements_old": {
            "type": "object",
            "description": "Entry requirements (legacy text field)"
          }
        },
        "required": [
          "name"
        ]
      },
      "UpdateProgramRequestDto": {
        "type": "object",
        "properties": {}
      },
      "CreateUniversityRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "University name"
          },
          "university_type": {
            "type": "string",
            "description": "University type",
            "enum": [
              "public",
              "private"
            ]
          },
          "based_in": {
            "type": "object",
            "description": "Based in (country/region)"
          },
          "state": {
            "type": "object",
            "description": "State"
          },
          "city": {
            "type": "object",
            "description": "City"
          },
          "address": {
            "type": "object",
            "description": "Full address"
          },
          "description": {
            "type": "object",
            "description": "University description"
          },
          "website_url": {
            "type": "object",
            "description": "Website URL"
          },
          "email": {
            "type": "object",
            "description": "Contact email"
          },
          "phone_number": {
            "type": "object",
            "description": "Contact phone number"
          },
          "average_fee": {
            "type": "number",
            "description": "Average fee (RM)"
          },
          "logo_url": {
            "type": "object",
            "description": "Logo URL"
          },
          "image_urls": {
            "type": "object",
            "description": "Image URLs (JSON array)"
          }
        },
        "required": [
          "name",
          "university_type"
        ]
      },
      "UpdateUniversityRequestDto": {
        "type": "object",
        "properties": {}
      },
      "SelectionProcessStepDto": {
        "type": "object",
        "properties": {
          "step": {
            "type": "number",
            "description": "Step number"
          },
          "title": {
            "type": "string",
            "description": "Step title"
          },
          "description": {
            "type": "object",
            "description": "Step description"
          },
          "duration": {
            "type": "object",
            "description": "Step duration (e.g. 1-2 weeks)"
          }
        },
        "required": [
          "step",
          "title"
        ]
      },
      "PartnerUniversityDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "University name"
          },
          "country": {
            "type": "object",
            "description": "Country"
          }
        },
        "required": [
          "name"
        ]
      },
      "CreateScholarshipRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Scholarship name"
          },
          "provider": {
            "type": "object",
            "description": "Provider (alias for organization_name)"
          },
          "organization_name": {
            "type": "object",
            "description": "Organization name"
          },
          "amount": {
            "type": "number",
            "description": "Scholarship amount"
          },
          "type": {
            "type": "string",
            "description": "Scholarship type",
            "enum": [
              "Merit-based",
              "Need-based",
              "Academic",
              "Other"
            ]
          },
          "location": {
            "type": "object",
            "description": "Location"
          },
          "deadline": {
            "type": "object",
            "description": "Application deadline"
          },
          "description": {
            "type": "object",
            "description": "Description"
          },
          "level": {
            "type": "object",
            "description": "Level (study level)"
          },
          "field_id": {
            "type": "number",
            "description": "Field ID"
          },
          "application_url": {
            "type": "object",
            "description": "Application URL (alias for website_url)"
          },
          "website_url": {
            "type": "object",
            "description": "Website URL"
          },
          "contact_email": {
            "type": "object",
            "description": "Contact email"
          },
          "contact_phone": {
            "type": "object",
            "description": "Contact phone"
          },
          "processing_time_weeks": {
            "type": "number",
            "description": "Processing time (weeks)"
          },
          "applicant_count": {
            "type": "number",
            "description": "Applicant count"
          },
          "rating": {
            "type": "number",
            "description": "Rating (0.0 - 5.0)"
          },
          "review_count": {
            "type": "number",
            "description": "Review count"
          },
          "requirements": {
            "type": "object",
            "description": "Requirements (text)"
          },
          "eligibility_requirements": {
            "type": "object",
            "description": "Eligibility requirements (JSON object; stored into requirements column)"
          },
          "benefits": {
            "type": "object",
            "description": "Benefits (text)"
          },
          "benefits_json": {
            "type": "object",
            "description": "Benefits JSON (object/array, stored to benefits_json column if present)"
          },
          "selection_process": {
            "description": "Selection process steps (JSON array)",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SelectionProcessStepDto"
            }
          },
          "partner_universities": {
            "description": "Partner universities (JSON array)",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PartnerUniversityDto"
            }
          },
          "success_rate": {
            "type": "number",
            "description": "Success rate"
          },
          "status": {
            "type": "string",
            "description": "Scholarship status",
            "enum": [
              "active",
              "expired",
              "draft"
            ]
          }
        },
        "required": [
          "name"
        ]
      },
      "UpdateScholarshipRequestDto": {
        "type": "object",
        "properties": {}
      },
      "UpdateUserDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "example": "john.doe@example.com"
          },
          "fullName": {
            "type": "string",
            "example": "John Doe"
          },
          "phoneNumber": {
            "type": "string",
            "example": "+60123456789"
          },
          "isActive": {
            "type": "boolean",
            "example": true
          }
        }
      },
      "CompareRequestDto": {
        "type": "object",
        "properties": {}
      },
      "FieldRecommendationDto": {
        "type": "object",
        "properties": {
          "field_name": {
            "type": "string",
            "example": "Computer Science & IT"
          },
          "probability": {
            "type": "number",
            "example": 0.6509,
            "description": "Interest score between 0 and 1"
          }
        },
        "required": [
          "field_name",
          "probability"
        ]
      },
      "FieldRecommendationResponseDto": {
        "type": "object",
        "properties": {
          "fields": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FieldRecommendationDto"
            }
          },
          "powered_by": {
            "example": [
              "ML Model"
            ],
            "description": "List of AI systems used to generate field recommendations",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "fields",
          "powered_by"
        ]
      },
      "ProgramsByFieldRequestDto": {
        "type": "object",
        "properties": {
          "field_name": {
            "type": "string",
            "example": "Computer Science & IT",
            "description": "Selected field name from field recommendations"
          }
        },
        "required": [
          "field_name"
        ]
      },
      "FinalRecommendationDto": {
        "type": "object",
        "properties": {
          "program_id": {
            "type": "number",
            "example": 37
          },
          "rank": {
            "type": "number",
            "example": 1,
            "description": "Ranking position (1 = best match)"
          },
          "explanation": {
            "type": "string",
            "example": "Matches budget, preferred location, and accounting focus.",
            "description": "Natural language explanation of why this program is recommended"
          },
          "match_score": {
            "type": "number",
            "example": 0.93,
            "description": "ML model match score (0-1)"
          },
          "reasons": {
            "example": [
              "Matches Accounting field",
              "Within tuition budget",
              "Degree level preferred"
            ],
            "description": "List of specific reasons why this program matches",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "program_id",
          "rank",
          "explanation"
        ]
      },
      "FinalRecommendationResponseDto": {
        "type": "object",
        "properties": {
          "recommendations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FinalRecommendationDto"
            }
          },
          "powered_by": {
            "example": [
              "ML Model",
              "OpenAI Validation"
            ],
            "description": "List of AI systems used to generate recommendations",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "recommendations",
          "powered_by"
        ]
      }
    }
  }
}